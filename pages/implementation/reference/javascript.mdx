---
layout: 'guide'
title: 'JavaScript'
---

import Link from '../../../components/Link';

### Platforms

Avo can generate JavaScript code targeted at the following platforms

- Web
- React Native
- Node.js

### Quickstart

Avo functions usage consists of 3 steps.

#### Step 1. Include the Avo file

##### Avo CLI is available through npm

To install it and get the generated Avo file run the following commands.

```bash
$ npm install -g avo
$ avo login
$ avo pull --branch my-branch-name
```

Learn more about <Link passHref href="/implementation/cli"><a>the CLI here</a></Link>.

You can also <Link passHref href="/explore-tracking-plan/download-or-copy-avo-file-manually"><a>download the file manually</a></Link> from your Avo workspace.

#### Step 2. Initialize Avo

Import Avo from the generated file and initialize it by calling the `initAvo` method before tracking

```javascript
function initAvo(options, systemProperties, 
                 destinationOptions, [customDestDestination])
```

The actual parameters depend on your tracking plan setup, see the parameters explanation in <Link passHref href="/implementation/devs-101#avo-generated-file-init"><a>the initialization overview</a></Link>

and you call it like this

```javascript
import Avo from './Avo';

Avo.initAvo({ env: 'dev' }, { ...systemProperties }, {});
```

#### Step 3. Call Avo functions to track your product usage

Every event in your tracking plan, marked with the "Implement with Avo" checkbox, gets a function in the generated code, named according to the event name, in lower camel case.

For example, if you have an event defined like this in Avo

<center style={{ marginBottom: 16 + 'px' }}>
  <img
    style={{ height: 600 + 'px' }}
    src={require('../../../images/signup-start-ui.png')}
    alt="Event 'Signup Start' defined in Avo with referral string property and implement with Avo check"
  />
</center>

You'll be able to call it like this from the generated code

```javascript
Avo.signupStart({ referral: 'direct' });
```

> Notice, that you are not passing the System property with the call. System properties are defined on the init step and then automatically included with all events.
> You can update the system properties with `setSystemProperties` function.

### Reference

#### initAvo

```javascript
Avo.initAvo(options, systemProperties, destinationOptions, customDestination);
```

Initializes Avo, needs to be called before the tracking methods

##### Arguments

  `options`: `{env, [noop], [strict], [avoLogger], [inspector], [mobileDebugger]}`
  - `env`: string, one of 'dev', 'prod' or 'staging'. 
  - `[noop = false]`: optional bool, if set, Avo won't make any network calls (no tracking) in development and staging environments. Note that the noop flag is ignored in production. 
  - `[strict = false]`: optional bool, if set, Avo will throw an exception when it detects a tracking problem in development or staging. Note that the noop flag is ignored in production. 
  - `[avoLogger]`: optional custom implementation of the logger. Can be used to disable logs. <Link passHref href="/implementation/custom-loggers"><a>More about custom loggers</a></Link>  
  - `[inspector]`: optional Avo Inspector object. If you use Avo Inspector pass it here to make the Avo functions automatically report the invocations to the Avo Inspector. 
  - `[mobileDebugger]`: React Native specific and optional Avo Debugger instance. Pass it to make the Avo functions automatically show the functions calls and all the errors in the visual debugger. Check <a target="\_blank" rel="noopener noreferrer" href="https://github.com/avohq/react-native-analytics-debugger">React Native mobile debugger repo</a> to learn more about it.

`systemProperties`: an object where each field represents a system property in your tracking plan. 
When you define system properties in your Avo workspace you set name and type - the fields of this object are named the same as system properties, in lower camel case, and you should provide corresponding types.

`destinationOptions`: `{[segment], [amplitude], [mixpanel]}`

  - `mixpanel`: optional object, if you use Mixpanel destination managed by Avo, this object will be passed to `mixpanel.init(apiKey, options)` as the second parameter, `options`
  - `amplitude`: optional object, if you use Amplitude destination managed by Avo, this object will be passed to `amplitude.init(apiKey, null, options)` as the third parameter, `options`
  - `segment`: optional object, if you use Segment destination managed by Avo, this object will be passed to `analytics.load(apiKey, options)` as the second parameter, `options`

`customDestination`: required if given source has a custom destination set up in Avo. Otherwise ignored.

Read more about custom destinations <Link passHref href="/implementation/strat-custom-destination"><a>here</a></Link>.

Find examples of JavaScript custom destinations for each analytics destination in <Link passHref href="/implementation/destinations"><a>this section</a></Link>.

#### setAvoLogger

```javascript
Avo.setAvoLogger(avoLogger)
```

Separate method to set custom logger

##### Arguments

`avoLogger`: custom implementation of the logger. Can be used to disable logs. <Link passHref href="/implementation/custom-loggers"><a>More about custom loggers</a></Link>  

#### setSystemProperties

```javascript
Avo.setSystemProperties(systemProperties)
```

A method to update system properties. If you provide undefined values here corresponding properties won't be updated

##### Arguments

`systemProperties`: an object where each field represents a system property in your tracking plan. 
When you define system properties in your Avo workspace you set name and type - the fields of this object are named the same as system properties, in lower camel case, and you should provide corresponding types.

#### Event tracking functions

```javascript
Avo.yourEventName(properties: { [anonymousUserId_], [userId_], [segmentContext_], [eventProperty0], [eventProperty1], ..., [userProperty0], [userProperty1], ... })
```

Every event you define in your tracking plan in Avo gets a function named after the event in lower camel case. The arguments of the function depend on how it's defined in your tracking plan 

##### Arguments

`anonymousUserId_`: string, Node.js only, this argument is automatically added if corresponding setting is enabled, user to track anonymous users

`userId_`: string
Node.js: added to all events, you have to either provide it or the `anonymousUserId_`
Web and React Native: Added if the event has the Identify User action

`eventProperty`: type defined in the Avo tracking plan, can be string, int, long, float, bool, array and any
This is an event property that should be tracked with given event. Pass the value of the property to track here.

`userProperty`: type defined in the Avo tracking plan, can be string, int, long, float, bool, array and any
This is a user property that should be updated with given event. Pass the value of the property to update here.

`segmentContext_`: object, Node.js only, passed down to Segment as the Segment context, e.g. `segment.track({..., context: context})`

### Destinations

You can send your data from JavaScript to any event based analytics destination, including

- Amplitude
- FacebookAnalytics
- FullStory
- Mixpanel
- Mixpanel
- Permutive
- Segment
- Snowplow
- ZendeskConnect
- Adobe Analytics
- Apptelemetry
- Rudderstack
- Freshpaint
- Posthog
- Google Analytics 4 / Firebase Analytics
- Heap
- Keen
- Kissmetrics
- LaunchDarkly Events
- Pendo
- Fivetran
- AppsFlyer
- Braze
- Intercom
- A home made SDK
- Internal API
