---
layout: 'guide'
title: 'Setting up custom destinations'
---

import Link from '../../components/Link';

Destination interface is a set of hook methods that you implement to route data from Avo to particular analytics destination. Avo triggers specific methods when you call the Avo functions to send events. 
It provides the data ready to be sent to any analytics destination.

You can use the destination interface with any analytics platform, please <Link passHref href="/help/troubleshooting"><a>contact us</a></Link> if you are unsure of what is
the best solution for you.

To get started using a destination interface you do the following:

1. Create a Custom Destination in the Connections tab
2. Pull the updated code by doing `avo pull` in the Avo CLI
3. Initialize Avo with a custom destination
4. Fill in the empty methods for sending the data to your analytics destination

## Destination Interface overview

We will be referencing Avo _functions_, _events_, _actions_ and other Avo concepts in this document. Please read <Link passHref href="/workspace/tracking-plan"><a>the Tracking Plan doc</a></Link> and subdocs to get familiar with Avo concepts.

With a destination interface you'll get access to callback methods for Avo actions. The Avo generated code triggers the callbacks when corresponding <Link passHref href="/implementation/avo-functions-overview"><a>Avo functions</a></Link> are called.

> Available event actions in Avo
>
> The callback methods mirror the Avo Actions you set up for given Avo Event in your tracking plan in your workspace.
> Learn how to attach actions to events in <Link passHref href="/workspace/tracking-plan/events#actions"><a>the Tracking Plan section</a></Link>.

### Hook methods

- `make`: Triggered during Avo initialization.
  Here you will usually initialize an analytics SDK with the provided apiKey parameter. You can adjust the initialization based on the `env` parameter.
  This method is optional, if analytics SDK has already been initialized before you can skip it.

  Example: `analytics.init(apiKey)`

- `logEvent`: All your analytics events are managed in the Tracking Plan in Avo. Each event gets a generated Avo function. Avo events can have a Log Event action attached. This callback is triggered when an Avo function with Log Event action is called.
  Here you perform the actual event tracking, calling the track/log methods of the analytics SDK. Event name and event properties are provided as parameters.

  Example: `analytics.track(eventName, eventProperties)`

- `identify`: You can add the Identify User action to an event in the Tracking Plan in Avo. When calling an Avo function that includes the Identify User action you'll need to provide a user ID. Calling an Avo function that has the Identify User action will trigger this callback.
  The main use cases are signup and login.
  Here you would pass the user ID to the analytics SDK for it to create a new user or attach a session to an existing user.

  Example: `analytics.identify(userId)`

- `unidentify`: If you call an Avo function with the Unidentify User action, this callback will be triggered.
  Here you would call an analytics SDK method to detach subsequent actions from the currently identified user.

  Example: `analytics.identify(null)`

- `revenue`: If you add a `Log Revenue` action to Avo Function this callback will be invoked.
  Here you would log the revenue to your analytics destination, many of them have a special method to log revenue.

  Example: `analytics.revenue(productId, quantity, price)`

- `page`: If you add a `Log Page View` action to Avo Function this callback will be invoked.
  Here you would report navigation to your analytics destination.

  Example: `analytics.page(pageName, eventProperties)`

- `setUserProperties`: You can add user properties to events in the Avo dashboard. When an Avo function with attached user properties is called, this callback is triggered.
  Here you would attach user properties to the currently identified user in your analytics platform.

  Example: `analytics.setUserProperties(userId, userProperties)`

- `setGroupProperties`: You can update various group properties along with events in the Avo dashboard. When an Avo function with attached groups and group properties is called, this callback is triggered.
  Here you would update the properties for specified groups.

  Example: `mixpanel.get_group(groupType, groupId).set(groupProperties)`

- `addCurrentUserToGroup`: You can add groups and group properties to an event and set the event to associate the currently identified user with the provided groups.
  Can optionally update group properties along the way.

Example: ` analytics.group(groupType, { name: groupId, ...groupProperties, });`

- `logEventWithGroups`: this call is same as the `logEvent` call described above, except it also associates this particular event with a group.

Example: ` mixpanel.track_with_groups(eventName, eventProperties, { groupType: groupId, });`

## Initialization instructions

Below are instructions on how to initialize Avo with a destination interface for
each of the supported languages:

- Web
  - <Link passHref href="/implementation/reference/javascript#destination-interface-example"><a>JavaScript</a></Link>
  - <Link passHref href="/implementation/reference/typescript#destination-interface-example"><a>TypeScript</a></Link>
  - <Link passHref href="/implementation/reference/rescript#destination-interface-example"><a>Rescript</a></Link>
  - <Link passHref href="/implementation/reference/reasonml#destination-interface-example"><a>ReasonML</a></Link>
- Mobile
  - iOS
    - <Link passHref href="/implementation/reference/objc#destination-interface-example"><a>Objective-C</a></Link>
    - <Link passHref href="/implementation/reference/swift#destination-interface-example"><a>Swift</a></Link>
  - Android
    - <Link passHref href="/implementation/reference/java#destination-interface-example"><a>Java</a></Link>
    - <Link passHref href="/implementation/reference/kotlin#destination-interface-example"><a>Kotlin</a></Link>
  - React Native
    - <Link passHref href="/implementation/reference/javascript#destination-interface-example"><a>JavaScript</a></Link>
    - <Link passHref href="/implementation/reference/typescript#destination-interface-example"><a>TypeScript</a></Link>
    - <Link passHref href="/implementation/reference/rescript#destination-interface-example"><a>Rescript</a></Link>
    - <Link passHref href="/implementation/reference/reasonml#destination-interface-example"><a>ReasonML</a></Link>
- Backend
  - Node.js
    - <Link passHref href="/implementation/reference/javascript#destination-interface-example"><a>JavaScript</a></Link>
    - <Link passHref href="/implementation/reference/typescript#destination-interface-example"><a>TypeScript</a></Link>
    - <Link passHref href="/implementation/reference/rescript#destination-interface-example"><a>Rescript</a></Link>
    - <Link passHref href="/implementation/reference/reasonml#destination-interface-example"><a>ReasonML</a></Link>
  - <Link passHref href="/implementation/reference/java#destination-interface-example"><a>Java</a></Link>
  - <Link passHref href="/implementation/reference/php#destination-interface-example"><a>PHP</a></Link>
  - <Link passHref href="/implementation/reference/python#destination-interface-example"><a>Python</a></Link>
  - <Link passHref href="/implementation/reference/ruby#destination-interface-example"><a>Ruby</a></Link>
  - <Link passHref href="/implementation/reference/csharp#destination-interface-example"><a>C#</a></Link>
- Game Engines
  - <Link passHref href="/implementation/reference/csharp#destination-interface-example"><a>C#</a></Link>
